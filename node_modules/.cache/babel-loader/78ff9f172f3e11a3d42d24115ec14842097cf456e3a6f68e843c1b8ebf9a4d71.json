{"ast":null,"code":"document.addEventListener(\"turbo:load\", function () {\n  var toggle = document.getElementById(\"user_menu\");\n  if (toggle) {\n    // null チェック\n    if (!toggle.dataset.bound) {\n      toggle.addEventListener(\"click\", function () {\n        var dropmenu = document.getElementById(\"login_dropmenu\");\n        if (dropmenu) {\n          dropmenu.classList.toggle(\"active\");\n        }\n      });\n      toggle.dataset.bound = \"true\";\n    }\n  }\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n  var viewPriceDiv = document.querySelector('.view_price');\n  var checkinInput = document.getElementById('checkin_day');\n  var checkoutInput = document.getElementById('checkout_day');\n  var guestInput = document.getElementById('guest_count');\n  var nightSpan = document.getElementById('night_count');\n  var totalSpan = document.getElementById('total_price');\n  var roomRate = parseFloat(viewPriceDiv.dataset.roomRate);\n  function calculate() {\n    var checkin = new Date(checkinInput.value);\n    var checkout = new Date(checkoutInput.value);\n    var guestCount = parseInt(guestInput.value, 10);\n    if (checkin && checkout && checkout > checkin && guestCount > 0) {\n      var nights = (checkout - checkin) / (1000 * 60 * 60 * 24);\n      var total = nights * roomRate * guestCount;\n      nightSpan.textContent = nights;\n      totalSpan.textContent = total.toLocaleString();\n    } else {\n      nightSpan.textContent = 0;\n      totalSpan.textContent = 0;\n    }\n  }\n  checkinInput.addEventListener('change', calculate);\n  checkoutInput.addEventListener('change', calculate);\n  guestInput.addEventListener('input', calculate);\n});","map":{"version":3,"names":["document","addEventListener","toggle","getElementById","dataset","bound","dropmenu","classList","viewPriceDiv","querySelector","checkinInput","checkoutInput","guestInput","nightSpan","totalSpan","roomRate","parseFloat","calculate","checkin","Date","value","checkout","guestCount","parseInt","nights","total","textContent","toLocaleString"],"sources":["/Users/e/Desktop/trip/trip/app/javascript/packs/_common.js"],"sourcesContent":["document.addEventListener(\"turbo:load\", () => {\n  const toggle = document.getElementById(\"user_menu\");\n\n  if (toggle) {  // null チェック\n    if (!toggle.dataset.bound) {\n      toggle.addEventListener(\"click\", () => {\n        const dropmenu = document.getElementById(\"login_dropmenu\");\n        if (dropmenu) {\n          dropmenu.classList.toggle(\"active\");\n        }\n      });\n      toggle.dataset.bound = \"true\";\n    }\n  }\n});\n\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const viewPriceDiv = document.querySelector('.view_price');\n  const checkinInput = document.getElementById('checkin_day');\n  const checkoutInput = document.getElementById('checkout_day');\n  const guestInput = document.getElementById('guest_count');\n  const nightSpan = document.getElementById('night_count');\n  const totalSpan = document.getElementById('total_price');\n\n  const roomRate = parseFloat(viewPriceDiv.dataset.roomRate);\n\n  function calculate() {\n    const checkin = new Date(checkinInput.value);\n    const checkout = new Date(checkoutInput.value);\n    const guestCount = parseInt(guestInput.value, 10);\n\n    if (checkin && checkout && checkout > checkin && guestCount > 0) {\n      const nights = (checkout - checkin) / (1000 * 60 * 60 * 24);\n      const total = nights * roomRate * guestCount;\n\n      nightSpan.textContent = nights;\n      totalSpan.textContent = total.toLocaleString(); \n    } else {\n      nightSpan.textContent = 0;\n      totalSpan.textContent = 0;\n    }\n  }\n\n  checkinInput.addEventListener('change', calculate);\n  checkoutInput.addEventListener('change', calculate);\n  guestInput.addEventListener('input', calculate); \n});\n"],"mappings":"AAAAA,QAAQ,CAACC,gBAAgB,CAAC,YAAY,EAAE,YAAM;EAC5C,IAAMC,MAAM,GAAGF,QAAQ,CAACG,cAAc,CAAC,WAAW,CAAC;EAEnD,IAAID,MAAM,EAAE;IAAG;IACb,IAAI,CAACA,MAAM,CAACE,OAAO,CAACC,KAAK,EAAE;MACzBH,MAAM,CAACD,gBAAgB,CAAC,OAAO,EAAE,YAAM;QACrC,IAAMK,QAAQ,GAAGN,QAAQ,CAACG,cAAc,CAAC,gBAAgB,CAAC;QAC1D,IAAIG,QAAQ,EAAE;UACZA,QAAQ,CAACC,SAAS,CAACL,MAAM,CAAC,QAAQ,CAAC;QACrC;MACF,CAAC,CAAC;MACFA,MAAM,CAACE,OAAO,CAACC,KAAK,GAAG,MAAM;IAC/B;EACF;AACF,CAAC,CAAC;AAMFL,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAClD,IAAMO,YAAY,GAAGR,QAAQ,CAACS,aAAa,CAAC,aAAa,CAAC;EAC1D,IAAMC,YAAY,GAAGV,QAAQ,CAACG,cAAc,CAAC,aAAa,CAAC;EAC3D,IAAMQ,aAAa,GAAGX,QAAQ,CAACG,cAAc,CAAC,cAAc,CAAC;EAC7D,IAAMS,UAAU,GAAGZ,QAAQ,CAACG,cAAc,CAAC,aAAa,CAAC;EACzD,IAAMU,SAAS,GAAGb,QAAQ,CAACG,cAAc,CAAC,aAAa,CAAC;EACxD,IAAMW,SAAS,GAAGd,QAAQ,CAACG,cAAc,CAAC,aAAa,CAAC;EAExD,IAAMY,QAAQ,GAAGC,UAAU,CAACR,YAAY,CAACJ,OAAO,CAACW,QAAQ,CAAC;EAE1D,SAASE,SAASA,CAAA,EAAG;IACnB,IAAMC,OAAO,GAAG,IAAIC,IAAI,CAACT,YAAY,CAACU,KAAK,CAAC;IAC5C,IAAMC,QAAQ,GAAG,IAAIF,IAAI,CAACR,aAAa,CAACS,KAAK,CAAC;IAC9C,IAAME,UAAU,GAAGC,QAAQ,CAACX,UAAU,CAACQ,KAAK,EAAE,EAAE,CAAC;IAEjD,IAAIF,OAAO,IAAIG,QAAQ,IAAIA,QAAQ,GAAGH,OAAO,IAAII,UAAU,GAAG,CAAC,EAAE;MAC/D,IAAME,MAAM,GAAG,CAACH,QAAQ,GAAGH,OAAO,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;MAC3D,IAAMO,KAAK,GAAGD,MAAM,GAAGT,QAAQ,GAAGO,UAAU;MAE5CT,SAAS,CAACa,WAAW,GAAGF,MAAM;MAC9BV,SAAS,CAACY,WAAW,GAAGD,KAAK,CAACE,cAAc,CAAC,CAAC;IAChD,CAAC,MAAM;MACLd,SAAS,CAACa,WAAW,GAAG,CAAC;MACzBZ,SAAS,CAACY,WAAW,GAAG,CAAC;IAC3B;EACF;EAEAhB,YAAY,CAACT,gBAAgB,CAAC,QAAQ,EAAEgB,SAAS,CAAC;EAClDN,aAAa,CAACV,gBAAgB,CAAC,QAAQ,EAAEgB,SAAS,CAAC;EACnDL,UAAU,CAACX,gBAAgB,CAAC,OAAO,EAAEgB,SAAS,CAAC;AACjD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}